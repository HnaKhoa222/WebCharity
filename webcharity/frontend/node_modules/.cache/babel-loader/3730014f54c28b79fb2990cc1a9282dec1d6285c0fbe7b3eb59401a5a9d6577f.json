{"ast":null,"code":"var _jsxFileName = \"D:\\\\namky42\\\\nt208\\\\project\\\\webcharity\\\\frontend\\\\src\\\\pages\\\\Projects.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { db, collection, getDocs } from \"../firebase\"; // Import Firestore\nimport { useNavigate } from \"react-router-dom\";\nimport \"./Projects.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ProjectsPage = () => {\n  _s();\n  const navigate = useNavigate();\n  const [projectList, setProjectList] = useState([]);\n  const [selectedQr, setSelectedQr] = useState(null);\n\n  // Lấy dữ liệu từ Firestore\n  useEffect(() => {\n    const fetchProjects = async () => {\n      const querySnapshot = await getDocs(collection(db, \"projects\"));\n      const projectsData = querySnapshot.docs.map(doc => ({\n        id: doc.id,\n        ...doc.data()\n      }));\n      setProjectList(projectsData);\n    };\n    fetchProjects();\n  }, []);\n  const handleInterestToggle = projectId => {\n    setProjectList(prevList => prevList.map(project => project.id === projectId ? {\n      ...project,\n      isInterested: !project.isInterested\n    } : project));\n  };\n  const toggleQrCode = projectLink => {\n    setSelectedQr(selectedQr === projectLink ? null : projectLink);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"projects-page\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"D\\u1EF1 \\xE1n \\u0111ang g\\xE2y qu\\u1EF9\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"H\\xE3y l\\u1EF1a ch\\u1ECDn \\u0111\\u1ED3ng h\\xE0nh c\\xF9ng d\\u1EF1 \\xE1n m\\xE0 b\\u1EA1n quan t\\xE2m\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"project-list\",\n      children: projectList.map(project => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"project-item\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: project.image,\n          alt: project.title,\n          className: \"project-image\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: project.fundName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: project.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleInterestToggle(project.id),\n          className: `interest-btn ${project.isInterested ? \"interested\" : \"\"}`,\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"interest-icon\",\n            children: project.isInterested ? \"✓\" : \"+\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"progress\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"progress-bar\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"progress-fill\",\n              style: {\n                width: project.raisedPercent\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"amount\",\n            children: [\"\\u0110\\xE3 nh\\u1EADn: \", project.raisedAmount]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"target\",\n            children: [\"M\\u1EE5c ti\\xEAu: \", project.fundingGoal]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"project-actions\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"action-buttons\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => navigate(`/project/${project.id}`),\n              className: \"button details-btn\",\n              children: \"Xem chi ti\\u1EBFt\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => navigate('/payment'),\n              className: \"button fund-btn\",\n              children: \"Quy\\xEAn g\\xF3p\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => toggleQrCode(project.projectLink),\n              className: \"button qr-btn\",\n              children: selectedQr === project.projectLink ? \"Đóng QR\" : \"Mở QR\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 13\n        }, this), selectedQr === project.projectLink && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"qr-code\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: project.fundAvatar,\n            alt: `QR Code for ${project.title}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 15\n        }, this)]\n      }, project.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"view-all\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"button view-all-btn\",\n        children: \"Xem t\\u1EA5t c\\u1EA3\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 5\n  }, this);\n};\n_s(ProjectsPage, \"MTYvj0lLvIicnSbh6x9ykbVSJZg=\", false, function () {\n  return [useNavigate];\n});\n_c = ProjectsPage;\nexport default ProjectsPage;\nvar _c;\n$RefreshReg$(_c, \"ProjectsPage\");","map":{"version":3,"names":["React","useState","useEffect","db","collection","getDocs","useNavigate","jsxDEV","_jsxDEV","ProjectsPage","_s","navigate","projectList","setProjectList","selectedQr","setSelectedQr","fetchProjects","querySnapshot","projectsData","docs","map","doc","id","data","handleInterestToggle","projectId","prevList","project","isInterested","toggleQrCode","projectLink","className","children","fileName","_jsxFileName","lineNumber","columnNumber","src","image","alt","title","fundName","onClick","style","width","raisedPercent","raisedAmount","fundingGoal","fundAvatar","_c","$RefreshReg$"],"sources":["D:/namky42/nt208/project/webcharity/frontend/src/pages/Projects.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { db, collection, getDocs } from \"../firebase\"; // Import Firestore\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport \"./Projects.css\";\r\n\r\nconst ProjectsPage = () => {\r\n  const navigate = useNavigate();\r\n  const [projectList, setProjectList] = useState([]);\r\n  const [selectedQr, setSelectedQr] = useState(null);\r\n\r\n  // Lấy dữ liệu từ Firestore\r\n  useEffect(() => {\r\n    const fetchProjects = async () => {\r\n      const querySnapshot = await getDocs(collection(db, \"projects\"));\r\n      const projectsData = querySnapshot.docs.map((doc) => ({\r\n        id: doc.id,\r\n        ...doc.data(),\r\n      }));\r\n      setProjectList(projectsData);\r\n    };\r\n\r\n    fetchProjects();\r\n  }, []);\r\n\r\n  const handleInterestToggle = (projectId) => {\r\n    setProjectList((prevList) =>\r\n      prevList.map((project) =>\r\n        project.id === projectId\r\n          ? { ...project, isInterested: !project.isInterested }\r\n          : project\r\n      )\r\n    );\r\n  };\r\n\r\n  const toggleQrCode = (projectLink) => {\r\n    setSelectedQr(selectedQr === projectLink ? null : projectLink);\r\n  };\r\n\r\n  return (\r\n    <div className=\"projects-page\">\r\n      <h1>Dự án đang gây quỹ</h1>\r\n      <p>Hãy lựa chọn đồng hành cùng dự án mà bạn quan tâm</p>\r\n      <div className=\"project-list\">\r\n        {projectList.map((project) => (\r\n          <div key={project.id} className=\"project-item\">\r\n            <img\r\n              src={project.image}\r\n              alt={project.title}\r\n              className=\"project-image\"\r\n            />\r\n\r\n            <h3>{project.fundName}</h3>\r\n            <h2>{project.title}</h2>\r\n\r\n            <button\r\n              onClick={() => handleInterestToggle(project.id)}\r\n              className={`interest-btn ${\r\n                project.isInterested ? \"interested\" : \"\"\r\n              }`}\r\n            >\r\n              <span className=\"interest-icon\">\r\n                {project.isInterested ? \"✓\" : \"+\"}\r\n              </span>\r\n            </button>\r\n\r\n            <div className=\"progress\">\r\n              <div className=\"progress-bar\">\r\n                <div\r\n                  className=\"progress-fill\"\r\n                  style={{ width: project.raisedPercent }}\r\n                />\r\n              </div>\r\n              <p className=\"amount\">Đã nhận: {project.raisedAmount}</p>\r\n              <p className=\"target\">Mục tiêu: {project.fundingGoal}</p>\r\n            </div>\r\n\r\n            <div className=\"project-actions\">\r\n              <div className=\"action-buttons\">\r\n                <button\r\n                  onClick={() => navigate(`/project/${project.id}`)}\r\n                  className=\"button details-btn\"\r\n                >\r\n                  Xem chi tiết\r\n                </button>\r\n                <button\r\n                  onClick={() => navigate('/payment')}\r\n                  className=\"button fund-btn\"\r\n                >\r\n                  Quyên góp\r\n                </button>\r\n                <button\r\n                  onClick={() => toggleQrCode(project.projectLink)}\r\n                  className=\"button qr-btn\"\r\n                >\r\n                  {selectedQr === project.projectLink ? \"Đóng QR\" : \"Mở QR\"}\r\n                </button>\r\n              </div>\r\n            </div>\r\n\r\n            {selectedQr === project.projectLink && (\r\n              <div className=\"qr-code\">\r\n                <img\r\n                  src={project.fundAvatar}\r\n                  alt={`QR Code for ${project.title}`}\r\n                />\r\n              </div>\r\n            )}\r\n          </div>\r\n        ))}\r\n      </div>\r\n      <div className=\"view-all\">\r\n        <button className=\"button view-all-btn\">Xem tất cả</button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProjectsPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}